---
title: Self-Hosted Deployment
description: Learn how to deploy your Motia project to production using motia-docker
---

Run your Motia app in Docker containers. Same environment everywhere - dev, staging, production.

<Callout type="warn">You need motia package **0.5.2-beta.101 or higher**</Callout>

## Quick Start

<Callout type="info">
**Important:** Run these commands from your project root (where your `package.json` is).
</Callout>

<Steps>
<Step>
#### Navigate to your project

```bash
cd /path/to/your/motia-project
```

Make sure you see `package.json` when you run `ls`.

</Step>
<Step>
#### Setup Docker files

```bash
npx motia@latest docker setup
```

This creates `Dockerfile` and `.dockerignore` in your project.

</Step>
<Step>
#### Build and run

```bash
npx motia@latest docker run --project-name my-app
```

Replace `my-app` with your project name.

</Step>
<Step>
#### Check it works

Open [http://localhost:3000](http://localhost:3000) in your browser.

For more options:
```bash
npx motia@latest docker run --help
```

</Step>
</Steps>

<Callout type="error">
**Getting `ENOENT: no such file or directory, open package.json`?**

You're not in your project directory. Run `cd /path/to/your/project` first.
</Callout>

---

## Manual Docker Setup

Want more control? Build it yourself.

The `docker setup` command creates a Dockerfile for you, but here's what's in it:

```dockerfile title="Dockerfile"
# Use Motia's base image (has Node + Python ready)
FROM motiadev/motia:latest

# For AWS Lightsail or other ARM platforms, use:
# FROM --platform=linux/arm64 motiadev/motia:latest

# Copy package files
COPY package*.json ./

# Install dependencies
RUN npm ci --only=production

# Copy your app
COPY . .

# If you have Python steps, uncomment this line:
# RUN npx motia@latest install

# Expose the port
EXPOSE 3000

# Start your app
CMD ["npm", "run", "start"]
```

### Python Steps?

If you have Python steps, uncomment this line in the Dockerfile:

```dockerfile
RUN npx motia@latest install
```

And make sure you have a `requirements.txt` file in your project.

### .dockerignore

Create a `.dockerignore` file to keep your image small:

```bash
# Git
.git
.gitignore

# Python
__pycache__/
*.py[cod]
*$py.class
*.so
.Python
env/
venv/
ENV/

# Node
node_modules/
npm-debug.log
yarn-debug.log
yarn-error.log

# IDE
.vscode/
.idea/
*.swp
*.swo

# Local development
.env

# OS generated files
.DS_Store
.DS_Store?
._*
.Spotlight-V100
.Trashes
ehthumbs.db
Thumbs.db
```

---

## Build and Run Manually

### Build your image

```bash
docker build -t my-motia-app .
```

### Run it

```bash
docker run -it --rm -p 3000:3000 my-motia-app
```

Open [http://localhost:3000](http://localhost:3000) - your app should be running!

---

## Deploy to Cloud

### AWS Lightsail

Lightsail needs ARM. Update your Dockerfile:

```dockerfile
FROM --platform=linux/arm64 motiadev/motia:latest
```

Then build and deploy.

### Railway

Connect your GitHub repo. Railway detects the Dockerfile automatically.

### Fly.io

Create `fly.toml`:

```toml
app = "my-motia-app"

[build]
  dockerfile = "Dockerfile"

[[services]]
  internal_port = 3000
  protocol = "tcp"
```

Deploy: `fly deploy`

### Render

Create a Web Service, point to your repo. Render builds automatically.

---

## Resources

- [Docker Hub](https://hub.docker.com/r/motiadev/motia) - Official Motia image
- [Example Project](https://github.com/MotiaDev/motia-examples/tree/main/examples/motia-docker) - Full deployment example
- [CLI Reference](/docs/development-guide/cli#docker) - All docker commands
